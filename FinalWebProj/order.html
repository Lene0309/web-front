<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的订单 - 优品商城</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <style>
        :root {
            --main-color: #FF5000;
            --secondary-color: #F5F5F5;
            --text-color: #333;
            --light-text: #999;
        }
        
        body {
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            color: var(--text-color);
            background-color: #F8F8F8;
        }
        
        .header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .logo {
            color: var(--main-color);
            font-size: 28px;
            font-weight: bold;
        }
        
        .search-box {
            width: 500px;
            border: 2px solid var(--main-color);
            border-radius: 20px;
            overflow: hidden;
        }
        
        .search-input {
            border: none;
            outline: none;
            padding: 8px 15px;
            width: 85%;
        }
        
        .search-btn {
            background-color: var(--main-color);
            color: white;
            border: none;
            padding: 8px 20px;
            cursor: pointer;
        }
        
        .nav-link {
            color: var(--text-color);
            margin: 0 15px;
            font-weight: 500;
        }
        
        .nav-link:hover {
            color: var(--main-color);
        }
        
        .order-container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .order-header {
            display: flex;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid #EEE;
        }
        
        .order-title {
            font-size: 20px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .order-list {
            margin-top: 20px;
        }
        
        .order-card {
            padding: 20px;
            border-bottom: 1px solid #EEE;
        }
        
        .order-card:last-child {
            border-bottom: none;
        }
        
        .order-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .order-id {
            font-weight: bold;
            color: var(--main-color);
        }
        
        .order-status {
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-0 {
            background-color: #FFF2E8;
            color: var(--main-color);
        }
        
        .status-1 {
            background-color: #E6F7FF;
            color: #1890FF;
        }
        
        .status-2 {
            background-color: #F6FFED;
            color: #52C41A;
        }
        
        .status-3 {
            background-color: #F9F9F9;
            color: #999;
        }
        
        .status-4 {
            background-color: #FFF1F0;
            color: #FF4D4F;
        }
        
        .order-time {
            color: var(--light-text);
            font-size: 12px;
        }
        
        .order-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
        }
        
        .order-item-img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border: 1px solid #EEE;
            margin-right: 15px;
        }
        
        .order-item-info {
            flex: 1;
        }
        
        .order-item-title {
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .order-item-spec {
            color: var(--light-text);
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .order-item-price {
            color: var(--main-color);
            font-weight: bold;
        }
        
        .order-item-quantity {
            color: var(--light-text);
            font-size: 12px;
        }
        
        .order-total {
            font-weight: bold;
            color: var(--main-color);
            text-align: right;
        }
        
        .order-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 15px;
        }
        
        .action-btn {
            padding: 8px 20px;
            border-radius: 5px;
            margin-left: 10px;
            cursor: pointer;
            font-size: 14px;
            border: none;
        }
        
        .pay-btn {
            background-color: var(--main-color);
            color: white;
        }
        
        .view-btn {
            background-color: white;
            color: var(--main-color);
            border: 1px solid var(--main-color);
        }
        
        .empty-order {
            text-align: center;
            padding: 50px 0;
        }
        
        .empty-order-icon {
            font-size: 60px;
            color: #CCC;
            margin-bottom: 20px;
        }
        
        .empty-order-text {
            font-size: 16px;
            color: var(--light-text);
            margin-bottom: 20px;
        }
        
        .shopping-btn {
            background-color: var(--main-color);
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }
        
        .footer {
            background-color: #333;
            color: white;
            padding: 40px 0;
            margin-top: 50px;
        }
        
        .footer-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .footer-link {
            color: #CCC;
            display: block;
            margin-bottom: 10px;
            text-decoration: none;
        }
        
        .footer-link:hover {
            color: white;
        }
        
        .cart-icon {
            position: relative;
            cursor: pointer;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--main-color);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- 顶部导航栏 -->
        <div class="header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-2">
                        <div class="logo">优品商城</div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex search-box">
                            <input type="text" class="search-input" placeholder="搜索商品...">
                            <button class="search-btn">搜索</button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="d-flex justify-content-end">
                            <a href="order.html" class="nav-link">我的订单</a>
                            <div class="nav-link cart-icon" @click="goToCart">
                                <i class="el-icon-shopping-cart-2" style="font-size: 20px;"></i>
                                <span class="cart-count" v-if="cartCount > 0">{{cartCount}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 主要内容 -->
        <div class="container">
            <div class="order-container">
                <div class="order-header">
                    <i class="el-icon-shopping-cart-2" style="font-size: 24px; color: var(--main-color);"></i>
                    <div class="order-title">我的订单</div>
                </div>
                
                <template v-if="orders.length > 0">
                    <div class="order-list">
                        <div class="order-card" v-for="order in orders" :key="order.orderId">
                            <div class="order-info">
                                <div>
                                    <span class="order-id">订单号: {{order.orderId}}</span>
                                    <div class="order-time">{{formatDate(order.createTime)}}</div>
                                </div>
                                <span class="order-status" :class="'status-' + order.status">
                                    {{getStatusText(order.status)}}
                                </span>
                            </div>
                            
                            <div class="order-item" v-for="item in order.items" :key="item.id">
                                <img :src="item.productImage" class="order-item-img">
                                <div class="order-item-info">
                                    <div class="order-item-title">{{item.productName}}</div>
                                    <div class="order-item-spec">规格：{{item.specification || '默认'}}</div>
                                    <div>
                                        <span class="order-item-price">¥{{item.price}}</span>
                                        <span class="order-item-quantity">x{{item.quantity}}</span>
                                    </div>
                                </div>
                                <div class="order-total">¥{{item.totalPrice}}</div>
                            </div>
                            
                            <div class="order-actions">
                                <div class="action-btn view-btn" @click="viewOrderDetail(order.orderId)">
                                    查看详情
                                </div>
                                <div class="action-btn pay-btn" v-if="order.status === 0" @click="payOrder(order.orderId)">
                                    立即支付
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
                
                <template v-else>
                    <div class="empty-order">
                        <div class="empty-order-icon">
                            <i class="el-icon-shopping-cart-2"></i>
                        </div>
                        <div class="empty-order-text">您还没有任何订单记录</div>
                        <button class="shopping-btn" @click="goShopping">去购物</button>
                    </div>
                </template>
            </div>
        </div>
        
        <!-- 页脚 -->
        <div class="footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <div class="footer-title">购物指南</div>
                        <a href="#" class="footer-link">购物流程</a>
                        <a href="#" class="footer-link">会员介绍</a>
                        <a href="#" class="footer-link">常见问题</a>
                    </div>
                    <div class="col-md-3">
                        <div class="footer-title">配送方式</div>
                        <a href="#" class="footer-link">上门自提</a>
                        <a href="#" class="footer-link">211限时达</a>
                        <a href="#" class="footer-link">配送服务查询</a>
                    </div>
                    <div class="col-md-3">
                        <div class="footer-title">支付方式</div>
                        <a href="#" class="footer-link">货到付款</a>
                        <a href="#" class="footer-link">在线支付</a>
                        <a href="#" class="footer-link">分期付款</a>
                    </div>
                    <div class="col-md-3">
                        <div class="footer-title">售后服务</div>
                        <a href="#" class="footer-link">售后政策</a>
                        <a href="#" class="footer-link">价格保护</a>
                        <a href="#" class="footer-link">退款说明</a>
                    </div>
                </div>
                <div class="text-center mt-4" style="color: #999; font-size: 12px;">
                    © 2023 优品商城 版权所有
                </div>
            </div>
        </div>
    </div>

    <script src="../vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="../axios.min.js"></script>
    <script>
        new Vue({
            el: '#app',
            data() {
                return {
                    cartCount: 3,
                    orders: [],
                    userId: 1 // 假设当前用户ID为1
                }
            },
            created() {
                this.fetchOrders();
            },
            methods: {
                fetchOrders() {
                    // 模拟数据
                    this.orders = [
                        {
                            orderId: 'UO123456789012345678',
                            userId: 1,
                            totalAmount: 9899,
                            status: 0,
                            createTime: new Date(),
                            items: [
                                {
                                    id: 1,
                                    productId: 1,
                                    productName: 'Apple iPhone 14 Pro Max 256GB 暗紫色',
                                    productImage: 'https://img10.360buyimg.com/mobilecms/s360x360_jfs/t1/197772/17/24299/120498/63d5b7e4F8a8b3f1a/3a5c1b0e8a6c1e0e.jpg',
                                    price: 9899,
                                    quantity: 1,
                                    totalPrice: 9899,
                                    specification: '256GB'
                                }
                            ]
                        },
                        {
                            orderId: 'UO987654321098765432',
                            userId: 1,
                            totalAmount: 6799,
                            status: 1,
                            createTime: new Date(Date.now() - 86400000),
                            payTime: new Date(Date.now() - 86300000),
                            items: [
                                {
                                    id: 2,
                                    productId: 2,
                                    productName: '华为 Mate 50 Pro 昆仑破晓 256GB',
                                    productImage: 'https://img10.360buyimg.com/mobilecms/s360x360_jfs/t1/221179/5/15076/125758/6242f8a7Ea1b9529c/3c8b1c1c1c1c1c1c.jpg',
                                    price: 6799,
                                    quantity: 1,
                                    totalPrice: 6799,
                                    specification: '256GB'
                                }
                            ]
                        },
                        {
                            orderId: 'UO567890123456789012',
                            userId: 1,
                            totalAmount: 4299,
                            status: 3,
                            createTime: new Date(Date.now() - 86400000 * 3),
                            payTime: new Date(Date.now() - 86300000 * 3),
                            items: [
                                {
                                    id: 3,
                                    productId: 3,
                                    productName: '小米13 5G手机 12GB+256GB 白色',
                                    productImage: 'https://img10.360buyimg.com/mobilecms/s360x360_jfs/t1/221179/5/15076/125758/6242f8a7Ea1b9529c/3c8b1c1c1c1c1c1c.jpg',
                                    price: 4299,
                                    quantity: 1,
                                    totalPrice: 4299,
                                    specification: '12GB+256GB'
                                }
                            ]
                        }
                    ];
                },
                getStatusText(status) {
                    const statusMap = {
                        0: '待支付',
                        1: '已支付',
                        2: '已发货',
                        3: '已完成',
                        4: '已取消'
                    };
                    return statusMap[status] || '未知状态';
                },
                formatDate(date) {
                    if (!date) return '';
                    const d = new Date(date);
                    return `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, '0')}-${d.getDate().toString().padStart(2, '0')} ${d.getHours().toString().padStart(2, '0')}:${d.getMinutes().toString().padStart(2, '0')}`;
                },
                viewOrderDetail(orderId) {
                    window.location.href = `order-detail.html?orderId=${orderId}`;
                },
                payOrder(orderId) {
                    this.$message({
                        message: '跳转到支付页面',
                        type: 'info',
                        duration: 2000
                    });
                    // 实际项目中这里应该调用支付接口并跳转
                },
                goShopping() {
                    window.location.href = 'index.html';
                },
                goToCart() {
                    window.location.href = 'cart.html';
                }
            }
        });
    </script>
</body>
</html>